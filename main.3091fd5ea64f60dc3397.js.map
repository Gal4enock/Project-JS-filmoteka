{"version":3,"sources":["webpack:///./js/upScrollBtn.js","webpack:///./partials/pagination.hbs","webpack:///./partials/filters.hbs","webpack:///./js/spinner.js","webpack:///./js/api/genresDb.js","webpack:///./js/refs.js","webpack:///./js/components/infiniteScroll.js","webpack:///./js/api/apiService.js","webpack:///./js/main.js","webpack:///./js/library.js","webpack:///./js/trailer.js","webpack:///./js/buttonWatched.js","webpack:///./js/buttonAddToQueue.js","webpack:///./js/renderCards.js","webpack:///./js/components/pagination.js","webpack:///./js/telega.js","webpack:///./js/mainController.js","webpack:///./js/search.js","webpack:///./js/renderFilters.js","webpack:///./js/filterByGenre.js","webpack:///./js/footer.js","webpack:///./partials/modal.hbs","webpack:///./partials/header.hbs","webpack:///./partials/main.hbs","webpack:///./partials/footer.hbs"],"names":["goTopBtn","document","querySelector","window","addEventListener","scrolled","pageYOffset","coords","documentElement","clientHeight","classList","add","remove","backToTop","scrollBy","setTimeout","Handlebars","module","exports","template","container","depth0","helpers","partials","data","alias1","lambda","alias2","escapeExpression","stack1","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","nullContext","program","noop","body","onload","removeAttribute","preloader","getElementById","contains","ul","userInputField","userSearchForm","onInvalidSearch","onNoResult","inputContainer","headerLibrary","libraryBtn","homeBtn","headerContainer","mainSection","pagination","genresSelect","addText","addForm","yearSelect","entries","observer","forEach","entry","isIntersecting","render","page","console","log","images","querySelectorAll","imageObserver","observe","length","unobserve","target","start","searchPage","end","snapshot","searchList","slice","refs","insertAdjacentHTML","main","createObserver","this","mode","localStorage","getItem","IntersectionObserver","onTrends","options","onSearch","destroyObserver","disconnect","_searchList","val","BASE_URL","headers","api","screen","width","perPage","setItem","ioController","viewPage","factStart","factEnd","neededPageStart","neededPageEnd","Math","floor","onResize","debounce","getTrends","ckeckPerPage","fetch","then","res","json","total_results","viewRes","results","resFirstPart","resSecondPart","imgArr","map","el","i","poster_path","IMG_BASE_URL","movies","total_pages","getMoviesByQuery","query","_page","getAllResults","currentRes","resultsArr","push","Promise","all","posters","obj","title","releaseDate","Number","parseInt","release_date","popularity","voteAverage","vote_average","voteCount","vote_count","overview","originalTitle","original_title","poster","genres","genre_ids","id","name","dataGenres","JSON","stringify","goToLibrary","e","preventDefault","innerHTML","buttonLibrary","textContent","btnQueue","btnWatched","showWathed","arrWatched","parse","item","nameFilm","parentNode","dataset","newList","filter","Boolean","arrQueue","renderTrailer","q","items","find","kind","videoId","basicLightbox","show","itemsArray","itemArray","renderCards","nodeName","curentFirst","current","content","changePages","onPaginationBtn","pageBtns","pagesToView","onPaginationClick","children","renderSearch","renderDefault","vPage","checkPagesQnt","prevBtn","nextBtn","firstBtn","lastBtn","removeChild","cur","pop","startVal","renderPagination","paginationTpl","Array","from","shareMovie","url","setAttribute","className","objPossibilities","voteaverage","votecount","originaltitle","itemCard","modalCard","instanceBox","closeModal","divButton","toWatchedObj","addToQueueArr","watchedArr","button","addToQueue","some","btnToLibrary","toggle","close","paginationControl","onLoad","onClose","onModalOpen","state","getState","toWatch","watched","moviesToRender","renderFilters","filtersList","filters","getAllUniqueMoviesGenres","allGenresList","reduce","allGenres","movie","uniqueGenresList","Set","sort","secondFilterHandler","secondFilterResult","filterValue","value","startYear","split","endYear","userInput","match","allMoviesList","searchResult","first_air_date","original_name","genreSets","genresMap","props","genreName","m1","m2","moviesList","removeItem","allUniqueMoviesGenres","includes","footer","helper","hooks","helperMissing","alias3","alias4"],"mappings":"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","file":"main.3091fd5ea64f60dc3397.js","sourcesContent":["(function () {\r\n  'use strict';\r\n\r\n  function trackScroll() {\r\n    var scrolled = window.pageYOffset;\r\n    var coords = document.documentElement.clientHeight;\r\n\r\n    if (scrolled > coords) {\r\n      goTopBtn.classList.add('back_to_top-show');\r\n    }\r\n    if (scrolled < coords) {\r\n      goTopBtn.classList.remove('back_to_top-show');\r\n    }\r\n  }\r\n\r\n  function backToTop() {\r\n    if (window.pageYOffset > 0) {\r\n      window.scrollBy(0, -80);\r\n      setTimeout(backToTop, 15);\r\n    }\r\n  }\r\n\r\n  var goTopBtn = document.querySelector('.back_to_top');\r\n\r\n  window.addEventListener('scroll', trackScroll);\r\n  goTopBtn.addEventListener('click', backToTop);\r\n})();\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"     <li class=\\\"page-item disabled\\\">\\r\\n      <a class=\\\"page-link\\\" href=\\\"#\\\" aria-label=\\\"First\\\" data-content=\\\"First\\\" disabled=\\\"true\\\">\\r\\n        <span aria-hidden=\\\"true\\\">&laquo;&laquo;</span>\\r\\n        <span class=\\\"sr-only\\\">First</span>\\r\\n      </a>\\r\\n    </li>\\r\\n    <li class=\\\"page-item disabled\\\">\\r\\n      <a class=\\\"page-link\\\" href=\\\"#\\\" aria-label=\\\"Previous\\\" data-content=\\\"Prev\\\" disabled=\\\"true\\\">\\r\\n        <span aria-hidden=\\\"true\\\">&laquo;</span>\\r\\n        <span class=\\\"sr-only\\\">Previous</span>\\r\\n      </a>\\r\\n    </li>\\r\\n    \\r\\n    <li class=\\\"page-item active \\\"><a class=\\\"page-link\\\" data-content=\\\"1\\\" data-page=\\\"1\\\" href=\\\"#\\\">1</a></li>\\r\\n    <li class=\\\"page-item\\\"><a class=\\\"page-link\\\" data-content=\\\"2\\\" data-page=\\\"2\\\" href=\\\"#\\\">2</a></li>\\r\\n    <li class=\\\"page-item\\\"><a class=\\\"page-link\\\" data-content=\\\"3\\\" data-page=\\\"3\\\" href=\\\"#\\\">3</a></li>\\r\\n\\r\\n    <li class=\\\"page-item\\\">\\r\\n      <a class=\\\"page-link\\\" href=\\\"#\\\" data-content=\\\"Next\\\" aria-label=\\\"Next\\\">\\r\\n        <span aria-hidden=\\\"true\\\">&raquo;</span>\\r\\n        <span class=\\\"sr-only\\\">Next</span>\\r\\n      </a>\\r\\n    </li>\\r\\n    <li class=\\\"page-item\\\">\\r\\n      <a class=\\\"page-link\\\" href=\\\"#\\\" aria-label=\\\"Last\\\" data-content=\\\"Last\\\">\\r\\n        <span aria-hidden=\\\"true\\\">&raquo;&raquo;</span>\\r\\n        <span class=\\\"sr-only\\\">Last</span>\\r\\n      </a>\\r\\n    </li>\";\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var alias1=container.lambda, alias2=container.escapeExpression;\n\n  return \"    <option value=\\\"\"\n    + alias2(alias1(depth0, depth0))\n    + \"\\\">\"\n    + alias2(alias1(depth0, depth0))\n    + \"</option>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<option>Choose main genre</option>\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":0},\"end\":{\"line\":4,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","document.body.onload = function() {\r\n    document.querySelector('header').removeAttribute('hidden');\r\n    setTimeout(function() {\r\n        let preloader = document.getElementById('myPreloader');\r\n        if (!preloader.classList.contains('cansel')) {\r\n            preloader.classList.add('cansel');\r\n        }\r\n    }, 500)\r\n};","export default [\r\n    {\r\n      \"id\": 28,\r\n      \"name\": \"Action\"\r\n    },\r\n    {\r\n      \"id\": 12,\r\n      \"name\": \"Adventure\"\r\n    },\r\n    {\r\n      \"id\": 16,\r\n      \"name\": \"Animation\"\r\n    },\r\n    {\r\n      \"id\": 35,\r\n      \"name\": \"Comedy\"\r\n    },\r\n    {\r\n      \"id\": 80,\r\n      \"name\": \"Crime\"\r\n    },\r\n    {\r\n      \"id\": 99,\r\n      \"name\": \"Documentary\"\r\n    },\r\n    {\r\n      \"id\": 18,\r\n      \"name\": \"Drama\"\r\n    },\r\n    {\r\n      \"id\": 10751,\r\n      \"name\": \"Family\"\r\n    },\r\n    {\r\n      \"id\": 14,\r\n      \"name\": \"Fantasy\"\r\n    },\r\n    {\r\n      \"id\": 36,\r\n      \"name\": \"History\"\r\n    },\r\n    {\r\n      \"id\": 27,\r\n      \"name\": \"Horror\"\r\n    },\r\n    {\r\n      \"id\": 10402,\r\n      \"name\": \"Music\"\r\n    },\r\n    {\r\n      \"id\": 9648,\r\n      \"name\": \"Mystery\"\r\n    },\r\n    {\r\n      \"id\": 10749,\r\n      \"name\": \"Romance\"\r\n    },\r\n    {\r\n      \"id\": 878,\r\n      \"name\": \"Science Fiction\"\r\n    },\r\n    {\r\n      \"id\": 10770,\r\n      \"name\": \"TV Movie\"\r\n    },\r\n    {\r\n      \"id\": 53,\r\n      \"name\": \"Thriller\"\r\n    },\r\n    {\r\n      \"id\": 10752,\r\n      \"name\": \"War\"\r\n    },\r\n    {\r\n      \"id\": 37,\r\n      \"name\": \"Western\"\r\n    }\r\n  ]","export default {\r\n  ul: document.querySelector('.movies'),\r\n  userInputField: document.querySelector(\".input-search\"),\r\n  userSearchForm: document.querySelector(\".search-form\"),\r\n  onInvalidSearch: document.querySelector(\"#invalid-search\"),\r\n  onNoResult: document.querySelector(\"#no-result\"),\r\n  inputContainer: document.querySelector(\".header-bottom\"),\r\n  headerLibrary: document.querySelector('.header'),\r\n  libraryBtn: document.querySelector('.go-lab'),\r\n  homeBtn: document.querySelector('.go-home'),\r\n  headerContainer: document.querySelector('.container'),\r\n  mainSection: document.querySelector('main'),\r\n  pagination: document.querySelector('.pagination'),\r\n  mainSection: document.querySelector('.movies'),\r\n  genresSelect: document.querySelector('#genresSelect'),\r\n  addText: document.querySelector('.filter-lable-text'),\r\n  addForm: document.querySelector('.form-row'),\r\n  yearSelect: document.querySelector('#yearSelect')\r\n}\r\n","import render from '../main.js'; //этот рисует карточки популярных фильмов\r\nimport refs from '../refs.js';\r\nimport main from '../../partials/main.hbs';\r\n\r\nclass InfiniteScroll {\r\n    options = {}\r\n    page = 2\r\n    searchPage = 2\r\n    constructor() {\r\n\r\n    }\r\n\r\n    createObserver(){\r\n        this.mode = localStorage.getItem('mode') //search || trends || undefined;\r\n\r\n        if (!this.mode) {\r\n            return\r\n        }\r\n\r\n        this.images = document.querySelectorAll('.movies img');\r\n        \r\n        if (this.mode === 'trends') {\r\n            this.imageObserver = new IntersectionObserver(this.onTrends, this.options);\r\n            this.imageObserver.observe(this.images[this.images.length - 1]);\r\n        } else {\r\n            this.imageObserver = new IntersectionObserver(this.onSearch, this.options);\r\n            this.imageObserver.observe(this.images[this.images.length - 1]);\r\n        }\r\n    }\r\n\r\n    onTrends = (entries, observer) => {\r\n\r\n        entries.forEach( entry => {\r\n            if (entry.isIntersecting) {        \r\n                render(this.page);\r\n                console.log(this.page)\r\n                this.page++;                \r\n                this.images = document.querySelectorAll('.movies img');\r\n                this.imageObserver.observe(this.images[this.images.length - 1]);\r\n                this.imageObserver.unobserve(entry.target);\r\n                console.log(this.images[this.images.length - 1]);\r\n            }\r\n        })\r\n    }\r\n\r\n    onSearch = (entries, observer) => {\r\n        let start = this.searchPage * 5 - 5;\r\n        let end = this.searchPage  * 5;\r\n\r\n        entries.forEach( entry => {\r\n            if (entry.isIntersecting) {                \r\n                let snapshot = this.searchList.slice(start, end);\r\n                refs.ul.insertAdjacentHTML('beforeend', main(snapshot));\r\n                \r\n                this.images = document.querySelectorAll('.movies img');\r\n                this.imageObserver.observe(this.images[this.images.length - 1]);\r\n                this.imageObserver.unobserve(entry.target);\r\n                this.searchPage++;\r\n                    \r\n            }\r\n        })\r\n    }\r\n\r\n    get searchList(){\r\n        return this._searchList;\r\n    }\r\n\r\n    set searchList(val){\r\n        this._searchList = val; \r\n    }\r\n\r\n    destroyObserver(){\r\n        if (this.imageObserver){\r\n            this.imageObserver.disconnect();\r\n            this.page = 1;\r\n        }\r\n    }\r\n}\r\n\r\nexport default new InfiniteScroll;","import GENRES from './genresDb.js';\r\nimport debounce from 'lodash.debounce';\r\nimport ioController from '../components/infiniteScroll';\r\n\r\nconst API_KEY_V3 = '1c82be463eec2d8b6de50f5ad36006eb'; //на всякий случай - ключ в строку если добавлять, а так везде тулим options (v4 key)\r\nconst API_KEY_V4 = 'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIxYzgyYmU0NjNlZWMyZDhiNmRlNTBmNWFkMzYwMDZlYiIsInN1YiI6IjVmOWZiYTFmY2EwZTE3MDAzYjRkZTljNiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.pioIw9ZjnLVCSLXXsSHDarKErsdPXcQ3JCynCs6jkII'\r\n\r\nconst BASE_URL = 'https://api.themoviedb.org/3/'\r\nconst IMG_BASE_URL = 'https://image.tmdb.org/t/p/'\r\n\r\n\r\n\r\nconst options = {\r\n    headers: {\r\n        'Authorization': `Bearer ${API_KEY_V4}`,\r\n    }\r\n}\r\n\r\n\r\n class FilmotekaApi {\r\n    _page = 1;\r\n    width = window.screen.width;\r\n\r\n    constructor(){\r\n        this.onResize();\r\n        window.addEventListener('resize', debounce(this.onResize, 500));\r\n    }\r\n    \r\n    onResize = () => { //тут получим ширину экрана при ресайзе вьюпорта\r\n        this.width = window.screen.width;\r\n        if (this.width < 768){\r\n            this.perPage = 5;\r\n            localStorage.setItem('perPage', this.perPage);\r\n            //ioController.createObserver();\r\n\r\n        } else if (this.width < 1024 && this.width >= 768){\r\n            this.perPage = 8;\r\n            localStorage.setItem('perPage', this.perPage);\r\n            ioController.destroyObserver()\r\n\r\n        } else if (this.width >= 1024) {\r\n            this.perPage = 9;\r\n            localStorage.setItem('perPage', this.perPage);\r\n            ioController.destroyObserver()\r\n        }\r\n        //console.log(this.perPage)\r\n        \r\n    }\r\n\r\n    ckeckPerPage = (viewPage) =>{ //поиск нужных страниц АПИ, соответствующих странице пагинации \r\n        //viewPage - страница пагинации\r\n    \r\n\r\n        this.perPage = localStorage.getItem('perPage');\r\n        this.factStart = viewPage * this.perPage - this.perPage; //Фактически отображаемые старт\r\n        this.factEnd = viewPage * this.perPage; //последний из фактически отображаемых фильмов\r\n\r\n        // console.log(\"factStart =\", this.factStart )\r\n        // console.log(\"factEnd = \", this.factEnd)\r\n        // console.log('viewPage = ', viewPage);\r\n        // console.log(\"perPage = \", this.perPage)\r\n\r\n        this.neededPageStart = 1;\r\n        this.neededPageEnd = 1;\r\n       \r\n        this.neededPageStart = Math.floor(this.factStart / 20) + 1;    \r\n        this.neededPageEnd = Math.floor(this.factEnd / 20) + 1; \r\n        \r\n        //  console.log('Needed_pageStart: ', this.neededPageStart);\r\n        //  console.log('Needed_pageEnd: ', this.neededPageEnd);\r\n        \r\n    }\r\n\r\n    set page(val) { //сет страницы в запросе\r\n        this._page = val;\r\n    }\r\n\r\n    get page (){ //получение страницы в запросе\r\n        return this._page;\r\n    }\r\n\r\n    async getTrends(viewPage) { \r\n        this.ckeckPerPage(viewPage);\r\n\r\n        let res = await fetch(`${BASE_URL}discover/movie?sort_by=popularity.desc&page=${this.neededPageStart}&language=en`, options)\r\n            .then( res => res.json() )\r\n            .then(async res => {\r\n                //console.log(res)\r\n                localStorage.setItem('pagesToView', Math.floor(res.total_results / this.perPage))\r\n                localStorage.setItem('mode', 'trends') //для инифинит скролла\r\n                let viewRes = [];\r\n            \r\n                if (this.neededPageStart === this.neededPageEnd) {\r\n                    viewRes = res.results.slice(this.factStart % 20, this.factEnd % 20); //получам столько, сколько надо\r\n                } else {\r\n                    let resFirstPart = res.results.slice(this.factStart % 20); //прийдётся делать ещё запрос\r\n                   \r\n                    let resSecondPart = await fetch(`${BASE_URL}discover/movie?sort_by=popularity.desc&page=${this.neededPageEnd}&language=en`, options)\r\n                        .then(res => res.json())\r\n                        .then(res => res.results.slice(0, this.factEnd % 20 ))\r\n                    //console.log('FirstPart = ', resFirstPart, ' ;SecondPart = ', resSecondPart);\r\n                    viewRes = [...resFirstPart, ...resSecondPart];\r\n                }\r\n                //console.log(viewRes)\r\n                const imgArr = viewRes.map( (el, i) =>\r\n\r\n                    (el.poster_path) ? \r\n                    `${IMG_BASE_URL}w500${el.poster_path}` :\r\n                    `https://vcunited.club/wp-content/uploads/2020/01/No-image-available-2.jpg`\r\n                )\r\n                const movies = {\r\n                    page: res.page,\r\n                    total_pages: res.total_pages,\r\n                    total_results: res.total_results,\r\n                    results: viewRes\r\n                }\r\n                return {movies, 'posters': imgArr}\r\n            })\r\n\r\n        //console.log(res)    \r\n        \r\n        return res;\r\n    }\r\n    //^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n        //получает ответ в виде объекта с ключом movies, и массива адресов картинок posters,\r\n        //movies - объект с page = 1; total_pages = 1000; total_results = 20000;\r\n        //а так же с массивом таких объектов в results:\r\n        /*\r\n        adult: false\r\n        backdrop_path: \"/hbrXbVoE0NuA1ORoSGGYNASagrl.jpg\"\r\n        genre_ids: [35]\r\n        id: 740985\r\n        media_type: \"movie\"\r\n        original_language: \"en\"\r\n        original_title: \"Borat Subsequent Moviefilm\"\r\n        overview: \"14 years after making a film about his journey across the USA, Borat risks life and limb when he returns to the United States with his young daughter, and reveals more about the culture, the COVID-19 pandemic, and the political elections.\"\r\n        popularity: 774.843\r\n        poster_path: \"/6agKYU5IQFpuDyUYPu39w7UCRrJ.jpg\"\r\n        release_date: \"2020-10-23\"\r\n        title: \"Borat Subsequent Moviefilm\"\r\n        video: false\r\n        vote_average: 6.7\r\n        vote_count: 707\r\n\r\n        */\r\n\r\n    getMoviesByQuery(query){\r\n        return fetch(`${BASE_URL}search/movie?language=ru&query=${query}&page=${this._page}`, options) //change multi to movie\r\n            .then(res => res.json())\r\n            .then(res => {\r\n                localStorage.setItem('pagesToView', Math.floor(res.total_results / this.perPage))\r\n                localStorage.setItem('mode', 'search') //для инифинит скролла\r\n                const imgArr = res.results.map( el => (el.poster_path) ? \r\n                `${IMG_BASE_URL}w500${el.poster_path}` :\r\n                `https://vcunited.club/wp-content/uploads/2020/01/No-image-available-2.jpg`\r\n                )\r\n                //console.dir(res, imgArr);\r\n                return {movies: res, 'posters': imgArr}\r\n            })\r\n    }\r\n\r\n    async getAllResults(query){\r\n        this._page = 1;\r\n        let currentRes = await this.getMoviesByQuery(query);\r\n        let resultsArr = [currentRes];\r\n        for (let i = 1; i < currentRes.movies.total_pages; i++) {\r\n            this._page++;\r\n            resultsArr.push(this.getMoviesByQuery(query));\r\n\r\n        }\r\n        //console.log(resultsArr);\r\n        return Promise.all(resultsArr);\r\n    }\r\n}\r\n const api = new FilmotekaApi;\r\n\r\n export default api\r\n","import api from './api/apiService.js';\r\nimport main from '../partials/main.hbs'\r\nimport genres from './api/genresDb.js';\r\nimport refs from './refs.js';\r\nimport ioController from './components/infiniteScroll';\r\n\r\nfunction render(viewPage){\r\n\r\napi.getTrends(viewPage)\r\n.then(({movies, posters}) => {\r\n  //console.log(movies, posters)\r\n  const res = movies.results.map((el, i) => {\r\n    let obj = {};\r\n    obj.title = el.title;\r\n    obj.releaseDate = Number.parseInt(el.release_date);\r\n    obj.popularity = el.popularity;\r\n    obj.voteAverage = el.vote_average;\r\n    obj.voteCount = el.vote_count;\r\n    obj.overview = el.overview;\r\n    obj.originalTitle = el.original_title;\r\n    obj.poster = posters[i];\r\n    obj.genres = [];\r\n    el.genre_ids.forEach(el => {\r\n      genres.forEach(({id, name}) => {\r\n        if(el === id) {\r\n          obj.genres.push(name);\r\n        }\r\n      })\r\n    })\r\n    obj.dataGenres = JSON.stringify(obj.genres);\r\n\r\n    return obj;\r\n  }) \r\n  return res;\r\n})\r\n.then(res => {\r\n  refs.ul.insertAdjacentHTML('beforeend', main(res))\r\n  //console.log(res);\r\n  if(api.width < 768) {\r\n    ioController.createObserver(); //если мобилка - создаст инфинит скролл\r\n  }\r\n});\r\n}\r\n\r\nexport default render","import api from './api/apiService.js';\r\nimport main from '../partials/main.hbs';\r\nimport refs from './refs.js';\r\nimport buttonLibrary from '../partials/header.hbs';\r\n\r\n\r\nconst goToLibrary = function (e) {\r\n  e.preventDefault();\r\n  refs.pagination.innerHTML = '';\r\n  refs.inputContainer.classList.add('hidden');\r\n  refs.headerLibrary.classList.add('header-library');\r\n  refs.homeBtn.classList.remove('is-active-btn');\r\n  refs.libraryBtn.classList.add('is-active-btn');\r\n  document.querySelector('.queue') ? '' : refs.headerContainer.insertAdjacentHTML('beforeend', buttonLibrary());\r\n  refs.mainSection.textContent = '';\r\n  \r\n  const btnQueue = document.querySelector('.queue');\r\n  const btnWatched = document.querySelector('.watched');\r\n  btnWatched.classList.add('is-active');\r\n  \r\n  const showWathed = function () {\r\n    const arrWatched = JSON.parse(localStorage.getItem('watchedList'));\r\n    if (arrWatched.length === 0 || !arrWatched) {\r\n      refs.mainSection.innerHTML = `<li><img class=\"nothingFoundImg\" \r\n          src='https://st2.depositphotos.com/8029582/12255/v/600/depositphotos_122553578-stock-illustration-emoticon-throws-up-his-hands.jpg'>\r\n          </li>`;\r\n    }\r\n    if (arrWatched.length > 0) {\r\n      arrWatched.map(el => el.dataGenres = JSON.stringify(el.genres));\r\n      refs.mainSection.innerHTML = main(arrWatched);\r\n    }\r\n    btnWatched.classList.add('is-active');\r\n    btnQueue.classList.remove('is-active');\r\n      document.querySelectorAll('.delete').forEach(el => {\r\n        el.removeAttribute('hidden');\r\n        \r\n      });\r\n    refs.mainSection.addEventListener('click', (e) => {\r\n      let item = JSON.parse(localStorage.getItem('watchedList'));\r\n      item.map(el => el.dataGenres = JSON.stringify(el.genres));\r\n     \r\n      const nameFilm = e.target.parentNode.dataset.title;\r\n      const newList = JSON.stringify(item.filter(el => el.title !== nameFilm));\r\n      localStorage.setItem('watchedList', newList);\r\n      console.log(\"newList\", newList);\r\n      console.log(\"newList.length\", newList.length);\r\n      console.log( Boolean (JSON.parse(newList).length === 0));\r\n      if (JSON.parse(newList).length === 0 || item.length === 0) {\r\n      refs.mainSection.innerHTML = `<li><img class=\"nothingFoundImg\" \r\n          src='https://st2.depositphotos.com/8029582/12255/v/600/depositphotos_122553578-stock-illustration-emoticon-throws-up-his-hands.jpg'>\r\n          </li>`;\r\n      } else if (newList.length > 0) {\r\n        \r\n        refs.mainSection.innerHTML = main(JSON.parse(newList));\r\n    }\r\n        document.querySelectorAll('.delete').forEach(el => el.removeAttribute('hidden'));\r\n         \r\n          \r\n          console.log(e);\r\n          // console.log(e.target.parentNode.dataset.title);\r\n        })\r\n  }\r\n\r\n  showWathed();\r\n  \r\n  const showQueue = function () {\r\n    const arrQueue = JSON.parse(localStorage.getItem('addToQueue'));\r\n    console.log(\"arrQueuearrQueue\", Boolean (arrQueue.length === 0));\r\n    if (arrQueue.length === 0 || !arrQueue) {\r\n      console.log(refs.mainSection);\r\n      refs.mainSection.innerHTML = `<li><img class=\"nothingFoundImg\" \r\n          src='https://st2.depositphotos.com/8029582/12255/v/600/depositphotos_122553578-stock-illustration-emoticon-throws-up-his-hands.jpg'>\r\n          </li>`;\r\n    } else if (arrQueue !== 0) {\r\n      arrQueue.map(el => el.dataGenres = JSON.stringify(el.genres));\r\n      refs.mainSection.innerHTML = main(arrQueue);\r\n    } \r\n    btnQueue.classList.add('is-active');\r\n    btnWatched.classList.remove('is-active');\r\n    \r\n     document.querySelectorAll('.delete').forEach(el =>el.removeAttribute('hidden'))\r\n    // del.removeAttribute\r\n     refs.mainSection.addEventListener('click', (e) => {\r\n          let item = JSON.parse(localStorage.getItem('addToQueue'));\r\n          item.map(el => el.dataGenres = JSON.stringify(el.genres));\r\n       const nameFilm = e.target.parentNode.dataset.title\r\n       \r\n       const newList = JSON.stringify(item.filter(el => el.title !== nameFilm));\r\n       localStorage.setItem('addToQueue', newList);\r\n       if (JSON.parse(newList).length === 0 || item.length === 0) {\r\n         console.log(refs.mainSection);\r\n         refs.mainSection.innerHTML = `<li><img class=\"nothingFoundImg\" \r\n              src='https://st2.depositphotos.com/8029582/12255/v/600/depositphotos_122553578-stock-illustration-emoticon-throws-up-his-hands.jpg'>\r\n              </li>`;\r\n       } else if (newList.length > 0) {\r\n         refs.mainSection.innerHTML = main(JSON.parse(newList));\r\n       }\r\n          document.querySelectorAll('.delete').forEach(el => el.removeAttribute('hidden'));\r\n         \r\n          console.log(newList);\r\n          console.log(e);\r\n          console.log(e.target.parentNode.dataset.title);\r\n        })\r\n  }\r\n  \r\n  btnQueue.addEventListener('click', showQueue);\r\n  btnWatched.addEventListener('click', showWathed);\r\n}\r\n\r\nrefs.libraryBtn.addEventListener('click', goToLibrary);\r\n\r\nexport default goToLibrary;\r\n\r\n","import * as basicLightbox from 'basiclightbox';\r\nimport 'basicLightbox/dist/basicLightbox.min.css'\r\n\r\nconst API_KEY_TRAILER = 'AIzaSyBqR_xZyTugU-WGd-2fjTioyG04DKQLh-4';\r\n\r\nconst fetchTrailer = function() {\r\n  let id;\r\n  const q = JSON.parse(localStorage.getItem('currentFilm')).title + ' trailer';\r\n  console.log(q);\r\n  // const q = 'Pirates of the Caribbean'; // в q нужно передать title объекта \r\n  return fetch(`https://youtube.googleapis.com/youtube/v3/search?part=snippet&q=${q}&key=${API_KEY_TRAILER}`)\r\n  .then(res => res.json())\r\n  .then(res => {\r\n    (res.items).find(el => {\r\n      if (el.id.kind === 'youtube#video') {\r\n        id = el.id.videoId;\r\n      }\r\n    })\r\n    // console.log(id);\r\n    return id;\r\n  })\r\n} // запрос на поиск айдишника\r\n\r\nconst renderTrailer = function() {\r\n  fetchTrailer()\r\n  .then\r\n  (id => {\r\n    // console.log(id);\r\n    const instance = basicLightbox.create(\r\n    `<iframe class=\"modal-trailer\" \r\n    src=\"https://www.youtube.com/embed/${id}\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>`\r\n).show()\r\n})\r\n\r\n} // для рендера трейлера\r\n\r\nexport default renderTrailer","let itemsArray = JSON.parse(localStorage.getItem('watchedList')) || [];\r\n\r\nconst toWatched = function () {\r\n  const obj = JSON.parse(localStorage.getItem('currentFilm'));\r\n  if (\r\n    itemsArray.find(e => \r\n      e.title === obj.title)\r\n  ) {\r\n    return;\r\n  }\r\n    itemsArray.push(obj);\r\n    localStorage.setItem('watchedList', JSON.stringify(itemsArray));\r\n    console.log(itemsArray);\r\n};\r\n\r\nexport default {\r\n  itemsArray: itemsArray,\r\n  toWatched: toWatched\r\n};\r\n","let itemArray = JSON.parse(localStorage.getItem('addToQueue')) || [];\r\n\r\nconst addToQueueE = function () {\r\n  const obj = JSON.parse(localStorage.getItem('currentFilm'));\r\n  if (\r\n    itemArray.find(e => \r\n      e.title === obj.title)\r\n  ) {\r\n    return;\r\n  }\r\n    itemArray.push(obj);\r\n    localStorage.setItem('addToQueue', JSON.stringify(itemArray));\r\n    console.log(itemArray);\r\n\r\n};\r\n\r\nexport default {\r\n  itemArray: itemArray,\r\n  addToQueueE: addToQueueE\r\n};\r\n","import refs from \"./refs.js\"\r\nimport main from \"../partials/main.hbs\"\r\n\r\nconst renderCards = (res) => {\r\n    refs.ul.innerHTML = \"\";\r\n    console.log(res);\r\n    refs.ul.insertAdjacentHTML('beforeend', main(res));\r\n  }\r\n\r\n  export default renderCards","import paginationTpl from '../../partials/pagination.hbs';\r\nimport refs from '../refs.js';\r\nimport api from '../api/apiService.js';\r\nimport render from '../main.js'; //этот рисует карточки популярных фильмов\r\nimport renderCards from '../renderCards'; //этот рисует карточки поиска\r\n\r\nclass PaginationController {\r\n    _searchList = [];\r\n    constructor() {\r\n        refs.pagination.addEventListener('click', this.onPaginationClick);\r\n        api.onResize();\r\n    }\r\n\r\n    onPaginationClick = (e) =>{\r\n        e.preventDefault();\r\n        \r\n        if (e.target.nodeName !=='A'){\r\n            return;\r\n        }\r\n\r\n        this.perPage = localStorage.getItem('perPage');\r\n        const current = e.target;\r\n        let curentFirst;\r\n        let currentActive;\r\n\r\n        switch (current.dataset.content){\r\n            case \"First\": \r\n                this.changePages(1);\r\n                this.onPaginationBtn();\r\n                break;\r\n\r\n            case \"Prev\":\r\n                curentFirst = +this.pageBtns[0].dataset.content - 1\r\n                this.changePages(curentFirst);\r\n\r\n                this.onPaginationBtn();\r\n                break; \r\n\r\n            case \"Next\": \r\n                curentFirst = +this.pageBtns[0].dataset.content + 1\r\n                this.changePages(curentFirst);\r\n\r\n                this.onPaginationBtn();\r\n                break;\r\n\r\n            case \"Last\": \r\n                this.changePages(this.pagesToView - 2);\r\n                \r\n                this.onPaginationBtn();\r\n                break;\r\n\r\n            default: //значит попали в кнопу со страницей\r\n                currentActive = refs.pagination.querySelector(\".active\");\r\n                currentActive.classList.remove('active');\r\n                current.parentNode.classList.add('active');\r\n\r\n                this.onPaginationBtn();\r\n                break;\r\n        }\r\n    }\r\n    onPaginationBtn(){\r\n        let currentActive = refs.pagination.querySelector(\".active\");\r\n        let page = currentActive.children[0].dataset.content\r\n        console.log(this.searchList);\r\n        \r\n        if (!this.searchList.length){\r\n            this.renderDefault(page)\r\n        } else {\r\n            this.renderSearch(page)\r\n        }        \r\n    }\r\n\r\n    renderDefault(vPage){ //Страницы из дефолта\r\n        this.pagesToView = localStorage.getItem('pagesToView');\r\n        refs.ul.innerHTML = '';\r\n        render(vPage);\r\n    }\r\n\r\n    renderSearch(vPage){ //Страница пагинации из поиска\r\n        this.perPage = localStorage.getItem('perPage'); //там в зависимотси от ширины экрана кол-во фильмов на странице\r\n        this.pagesToView = Math.floor(this.searchList.length / this.perPage); //общее кол-во страниц\r\n        localStorage.setItem ('pagesToView', this.pagesToView); //надо переписать, т.к., оно может браться также из апи)\r\n        this.checkPagesQnt(); \r\n        let start = vPage * this.perPage - this.perPage;\r\n        let end = vPage * this.perPage;\r\n\r\n        let snapshot = this.searchList.slice(start, end);\r\n        renderCards(snapshot);\r\n    }\r\n\r\n    checkPagesQnt(){ //Убирает ненужные элементы управления пагинации, если запрос < 3х страницы пагинации\r\n        this.pagesToView = localStorage.getItem('pagesToView');\r\n        console.log(this.pagesToView);\r\n        console.log(this.pageBtns.length);\r\n        if (this.pagesToView < this.pageBtns.length){\r\n            this.prevBtn = refs.pagination.querySelector('[data-content=\"Prev\"]');\r\n        this.nextBtn = refs.pagination.querySelector('[data-content=\"Next\"]');\r\n        this.firstBtn = refs.pagination.querySelector('[data-content=\"First\"]');\r\n        this.lastBtn = refs.pagination.querySelector('[data-content=\"Last\"]');\r\n\r\n            this.prevBtn && refs.pagination.removeChild(this.prevBtn.parentNode);\r\n            this.nextBtn && refs.pagination.removeChild(this.nextBtn.parentNode);\r\n            this.firstBtn && refs.pagination.removeChild(this.firstBtn.parentNode);\r\n            this.lastBtn && refs.pagination.removeChild(this.lastBtn.parentNode);\r\n            while (this.pagesToView < this.pageBtns.length){\r\n                let cur = this.pageBtns.pop();\r\n                refs.pagination.removeChild(cur.parentNode);\r\n            }\r\n        }\r\n        \r\n    }\r\n\r\n    get searchList(){\r\n        return this._searchList\r\n    }\r\n\r\n    set searchList(val) {\r\n        this._searchList = val; \r\n    }\r\n\r\n    changePages(startVal) { //переписывает цифры на страницах и блокирует не нужные эл-ты управления\r\n        // console.log(this.pageBtns[0].dataset.content);\r\n        if (startVal + 2 >= this.pagesToView){\r\n            startVal = this.pagesToView - 2;\r\n            this.lastBtn.parentNode.classList.add('disabled');\r\n            this.nextBtn.parentNode.classList.add('disabled');\r\n            \r\n            this.firstBtn.parentNode.classList.remove('disabled');\r\n            this.prevBtn.parentNode.classList.remove('disabled');       \r\n        }\r\n\r\n        if (startVal == 1){\r\n            this.firstBtn.parentNode.classList.add('disabled');\r\n            this.prevBtn.parentNode.classList.add('disabled');\r\n\r\n            this.lastBtn.parentNode.classList.remove('disabled');\r\n            this.nextBtn.parentNode.classList.remove('disabled');\r\n        } else {\r\n            this.firstBtn.parentNode.classList.remove('disabled');\r\n            this.prevBtn.parentNode.classList.remove('disabled');\r\n            this.lastBtn.parentNode.classList.remove('disabled');\r\n            this.nextBtn.parentNode.classList.remove('disabled');\r\n        }\r\n        this.pageBtns.forEach(el => {\r\n            el.dataset.content = startVal;\r\n            el.innerHTML = startVal;\r\n            startVal++;\r\n        })\r\n    }\r\n\r\n    renderPagination() {\r\n        refs.pagination.innerHTML = paginationTpl();\r\n        this.pageBtns = Array.from(refs.pagination.querySelectorAll('[data-page]'));\r\n        this.prevBtn = refs.pagination.querySelector('[data-content=\"Prev\"]');\r\n        this.nextBtn = refs.pagination.querySelector('[data-content=\"Next\"]');\r\n        this.firstBtn = refs.pagination.querySelector('[data-content=\"First\"]');\r\n        this.lastBtn = refs.pagination.querySelector('[data-content=\"Last\"]');\r\n\r\n        this.pagesToView = localStorage.getItem('pagesToView');\r\n        this.perPage = localStorage.getItem('perPage');\r\n        this.checkPagesQnt();\r\n    }\r\n}\r\nexport default new PaginationController","const shareMovie = function() {\r\n  const q = JSON.parse(localStorage.getItem('currentFilm'))\r\n  const title = q.title;\r\n  const voteAverage = q.voteAverage;\r\n  const poster = q.poster;\r\n  const genres = q.genres;\r\n  const url = 'https://gal4enock.github.io/Project-JS-filmoteka/';\r\n  document.querySelector('.telega-link').setAttribute('href', \r\n  `https://telegram.me/share/url?text=${poster}      \r\n  Смотри какой фильм : \"${title}\" ===>>> \r\n  Жанр: ${genres} ===>>> \r\n  Оценка: ${voteAverage} ===>>> \r\n  Больше читай тут ===>>> ${url}&url=${url}`);\r\n}\r\n export default shareMovie;\r\n","import debounce from 'lodash.debounce';\r\nimport api from './api/apiService';\r\nimport render from './main.js';\r\nimport genres from './api/genresDb';\r\nimport refs from './refs.js';\r\nimport renderTrailer from './trailer.js'\r\nimport modalCard from '../partials/modal.hbs';\r\nimport * as basicLightbox from 'basiclightbox';\r\nimport toWatchedObj from './buttonWatched';\r\nimport addToQueue from './buttonAddToQueue';\r\nimport 'basicLightbox/dist/basicLightbox.min.css';\r\nimport paginationControl from './components/pagination.js';\r\nimport shareMovie from './telega.js'\r\nimport goToLibrary from './library.js';\r\n\r\n\r\nclass MainController {\r\n  state = {};\r\n  toWatch = [];\r\n  watched = [];\r\n\r\n  constructor() {\r\n    window.addEventListener('load', this.onLoad);\r\n    window.addEventListener('beforeunload', this.onClose);\r\n    refs.ul.addEventListener('click', this.onModalOpen);\r\n\r\n    this.state = JSON.parse(localStorage.getItem('state'));\r\n  }\r\n\r\n  onModalOpen = e => {\r\n    e.preventDefault();\r\n    // console.log(\"go to\", goToLibrary);\r\n    // console.log(\"onModalOpen\");\r\n    // console.log(e.target.parentNode);\r\n    if (e.target.parentNode.nodeName !== 'A' || e.target.className === 'btn delete') {\r\n      return;\r\n    }\r\n\r\n    let item = e.target.parentNode.querySelector('.data');\r\n    // console.dir(item);\r\n    const objPossibilities = {\r\n      title: item.dataset.title,\r\n      voteAverage: item.dataset.voteaverage,\r\n      voteCount: item.dataset.votecount,\r\n      overview: item.dataset.overview,\r\n      popularity: item.dataset.popularity,\r\n      originalTitle: item.dataset.originaltitle,\r\n      genres: JSON.parse(item.dataset.genres),\r\n      poster: item.dataset.poster,\r\n    };\r\n    // console.log(typeof objPossibilities.genres);\r\n    localStorage.setItem('currentFilm', JSON.stringify(objPossibilities));\r\n    const itemCard = modalCard(objPossibilities);\r\n    this.instanceBox = basicLightbox.create(itemCard);\r\n    this.instanceBox.show();\r\n    const closeBtn = document.querySelector('.close-button');\r\n    closeBtn.addEventListener('click', this.closeModal);\r\n    const divButton = document.querySelector('#watched');\r\n    divButton.addEventListener('click', () => {\r\n       toWatchedObj.toWatched();\r\n       divButton.classList.add('green');\r\n    }\r\n    );\r\n    const button = document.querySelector('#queue');\r\n    button.addEventListener('click', () => {\r\n       addToQueue.addToQueueE();\r\n       button.classList.add('green');\r\n    }\r\n    );\r\n\r\n    function chengColorAdd() {\r\n      let addToQueueArr = JSON.parse(localStorage.getItem('addToQueue')) || [];\r\n      if (addToQueueArr.length) {\r\n        addToQueueArr.some(\r\n          e =>\r\n            e.title === JSON.parse(localStorage.getItem('currentFilm')).title,\r\n        )\r\n          ? button.classList.add('green')\r\n          : '';\r\n      }\r\n    }\r\n    chengColorAdd();\r\n\r\n    function chengColorWatched() {\r\n      let watchedArr = JSON.parse(localStorage.getItem('watchedList')) || [];\r\n      if (watchedArr.length) {\r\n        watchedArr.some(\r\n          e =>\r\n            e.title === JSON.parse(localStorage.getItem('currentFilm')).title,\r\n        )\r\n          ? divButton.classList.add('green')\r\n          : '';\r\n      }\r\n    }\r\n    chengColorWatched();\r\n\r\n    const trailerBtn = document.querySelector('#watched-tailer');\r\n    trailerBtn.addEventListener('click', renderTrailer);\r\n    const telegaBtn = document.querySelector('.telega-btn');\r\n    telegaBtn.addEventListener('click', shareMovie);\r\n  \r\n    const btnToLibrary = document.querySelector('#library-btn');\r\n    // console.log(btnToLibrary);\r\n    btnToLibrary.addEventListener('click', goToLibrary);\r\n    btnToLibrary.addEventListener('click', this.closeModal);\r\n    document.body.classList.toggle('scroll-hidden');\r\n  \r\n  };\r\n  closeModal = (e) => {\r\n    this.instanceBox.close()\r\n    document.body.classList.toggle('scroll-hidden')\r\n    }\r\n    \r\n  buttonModalClick = () => {\r\n    //тут событие кнопки модалки - в очередь или просмторено\r\n  };\r\n\r\n  getState() {\r\n    this.state = JSON.parse(localStorage.getItem('state'));\r\n  }\r\n\r\n  onLoad = () => {   \r\n    render(1);\r\n    paginationControl.renderPagination();\r\n  };\r\n\r\n  onClose() {\r\n    this.state.toWatch = this.toWatch;\r\n    this.state.watched = this.watched;\r\n    localStorage.setItem('state', JSON.stringify(this.state));\r\n  }\r\n}\r\n\r\nconst main = new MainController();\r\n","import refs from \"./refs.js\"\r\nimport genresMap from \"./api/genresDb\"\r\nimport api from \"./api/apiService\"\r\nimport renderCards from \"./renderCards\"\r\nimport renderFilters from \"./renderFilters\"\r\nimport getAllUniqueMoviesGenres from \"./filterByGenre\"\r\nimport pagination from \"./components/pagination\"\r\nimport ioController from './components/infiniteScroll';\r\n\r\nlet query;\r\n\r\nrefs.userSearchForm.addEventListener(\"submit\", e => {\r\n  // refs.addText.removeAttribute('hidden');\r\n  // refs.addForm.removeAttribute('hidden');\r\n  e.preventDefault();\r\n  let userInput = refs.userInputField.value;  \r\n\r\n  const validInputRegex = /^[a-zA-Z0-9а-яА-Я\\s]+$/;\r\n  if (userInput.match(validInputRegex)) {\r\n    refs.onInvalidSearch.classList.add(\"hidden\")\r\n    refs.onNoResult.classList.add(\"hidden\")\r\n    console.log(userInput);\r\n    query = userInput; \r\n    \r\n    const allMoviesList = [];\r\n    api\r\n      .getAllResults(query)\r\n      .then(searchResult => { \r\n        searchResult.forEach(({movies, posters}) => {\r\n          movies.results.forEach((movie, i) => {\r\n            let obj = {};\r\n            obj.title = \"name\" in movie ? movie.name : movie.title;\r\n            obj.releaseDate = \"first_air_date\" in movie ? movie.first_air_date : movie.release_date;\r\n            obj.popularity = movie.popularity;\r\n            obj.voteAverage = movie.vote_average;\r\n            obj.voteCount = movie.vote_count;\r\n            obj.overview = movie.overview;\r\n            obj.originalTitle = \"original_name\" in movie ? movie.original_name : movie.original_title; \r\n            obj.poster = posters[i];          \r\n\r\n            obj.genres = [];\r\n            movie.genre_ids.forEach(id => {\r\n              let genreSets = genresMap.find(props => props.id === id);\r\n              let genreName = genreSets ? genreSets.name : \"\";\r\n              obj.genres.push(genreName);\r\n            })\r\n            obj.dataGenres = JSON.stringify(obj.genres);\r\n\r\n            allMoviesList.push(obj);\r\n          })\r\n        })\r\n        // sort by popularity descending\r\n        return allMoviesList.sort((m1, m2) => (m1.popularity < m2.popularity) ? 1 : -1);\r\n      })\r\n      .then(moviesList => {\r\n        pagination.searchList = moviesList;\r\n        pagination.renderPagination();\r\n\r\n        localStorage.setItem('searchResults', JSON.stringify(moviesList))\r\n        localStorage.removeItem('filteredSearchResults')\r\n\r\n        if (moviesList.length > 0) {\r\n          // renderCards(moviesList)\r\n          pagination.renderSearch(1);\r\n\r\n          const allUniqueMoviesGenres = getAllUniqueMoviesGenres(moviesList)\r\n          renderFilters(allUniqueMoviesGenres)\r\n          if(api.width < 768) {\r\n            ioController.searchList = moviesList;\r\n            ioController.createObserver(); //если мобилка - создаст инфинит скролл\r\n          }\r\n        } else { \r\n          refs.onNoResult.classList.remove(\"hidden\")\r\n        }\r\n      });\r\n  } else {\r\n    refs.onNoResult.classList.add(\"hidden\")\r\n    refs.onInvalidSearch.classList.remove(\"hidden\")\r\n  }\r\n})\r\n\r\n\r\n let moviesToRender\r\n\r\nrefs.genresSelect.addEventListener(\"change\", e => {\r\n  const filterValue = refs.genresSelect.value;\r\n  const moviesList = JSON.parse(localStorage.getItem('searchResults'))\r\n\r\n \r\n  if (filterValue === 'Choose main genre') {\r\n    localStorage.removeItem('filteredSearchResults')\r\n    moviesToRender = moviesList;\r\n  } else {\r\n    moviesToRender = moviesList.filter(movie => {\r\n      console.log(movie.genres + ' contains ' + filterValue);\r\n      return movie.genres.includes(filterValue);\r\n    })\r\n\r\n    localStorage.setItem('filteredSearchResults', JSON.stringify(moviesToRender))\r\n  }\r\n\r\n  if (refs.yearSelect.value !== \"All years range\"){\r\n    secondFilterHandler();\r\n    return\r\n  }\r\n\r\n  pagination.searchList = moviesToRender;\r\n  pagination.renderSearch(1);\r\n\r\n  console.log(\"this is\", moviesToRender);\r\n  pagination.renderPagination();\r\n  // renderPagination(moviesToRender);\r\n})\r\n\r\nfunction secondFilterHandler (e) {\r\n\r\n  let secondFilterResult\r\n  const filterValue = refs.yearSelect.value;\r\n  console.log(filterValue);\r\n\r\n  if (!moviesToRender) {\r\n    moviesToRender = JSON.parse(localStorage.getItem('searchResults'))\r\n  } \r\n\r\n  if (filterValue === \"All years range\"){\r\n    secondFilterResult = moviesToRender;\r\n  } else {\r\n    let startYear = filterValue.split(\" \")[0];\r\n    let endYear = filterValue.split(\" \")[2];\r\n    secondFilterResult = moviesToRender.filter(movie =>\r\n       movie.releaseDate.split('-')[0] >= startYear && movie.releaseDate.split('-')[0] <=endYear)\r\n \r\n  }\r\n\r\n  pagination.searchList = secondFilterResult;\r\n  pagination.renderSearch(1);\r\n\r\n  console.log(\"this is sec filter\", secondFilterResult);\r\n  pagination.renderPagination();\r\n}\r\n\r\nrefs.yearSelect.addEventListener('change', secondFilterHandler)","import refs from \"./refs.js\"\r\nimport filters from \"../partials/filters.hbs\"\r\n\r\nconst renderFilters = (filtersList) => {\r\n    refs.genresSelect.innerHTML = \"\";\r\n    console.log(filtersList);\r\n    refs.genresSelect.insertAdjacentHTML('beforeend', filters(filtersList));\r\n  }\r\n\r\n  export default renderFilters","const getAllUniqueMoviesGenres = (movies) => {\r\n  let allGenresList = movies\r\n    .reduce((allGenres, movie) => {\r\n        allGenres.push(...movie.genres);\r\n        return allGenres;\r\n    }, [])\r\n    \r\n    let uniqueGenresList = new Set(allGenresList);\r\n    return Array.from(uniqueGenresList).sort();\r\n};\r\n\r\nexport default getAllUniqueMoviesGenres;\r\n","import footer from \"../partials/footer.hbs\";\r\ndocument.body.insertAdjacentHTML(\"beforeend\", footer());\r\n\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"            <li class=\\\"genres\\\">\"\n    + container.escapeExpression(container.lambda(depth0, depth0))\n    + \"</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"overlay\\\">\\r\\n  <header class=\\\"header__modal content\\\">\\r\\n    <div class=\\\"container\\\">\\r\\n      <div class=\\\"header-top\\\">\\r\\n        <a href=\\\"./index.html\\\" class=\\\"logo coin\\\">\\r\\n          <svg width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\r\\n            <path\\r\\n              d=\\\"M19.82 2H4.18C2.97602 2 2 2.97602 2 4.18V19.82C2 21.024 2.97602 22 4.18 22H19.82C21.024 22 22 21.024 22 19.82V4.18C22 2.97602 21.024 2 19.82 2Z\\\"\\r\\n              stroke=\\\"#818181\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" />\\r\\n            <path d=\\\"M7 2V22\\\" stroke=\\\"#818181\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" />\\r\\n            <path d=\\\"M17 2V22\\\" stroke=\\\"#818181\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" />\\r\\n            <path d=\\\"M2 12H22\\\" stroke=\\\"#818181\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" />\\r\\n            <path d=\\\"M2 7H7\\\" stroke=\\\"#818181\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" />\\r\\n            <path d=\\\"M2 17H7\\\" stroke=\\\"#818181\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" />\\r\\n            <path d=\\\"M17 17H22\\\" stroke=\\\"#818181\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" />\\r\\n            <path d=\\\"M17 7H22\\\" stroke=\\\"#818181\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" />\\r\\n          </svg>\\r\\n          <span class=\\\"logo-txt\\\">Filmoteka</span>\\r\\n        </a>\\r\\n        <nav>\\r\\n          <ul class=\\\"nav-list\\\">\\r\\n            <li class=\\\"nav-item\\\">\\r\\n              <a href=\\\"./index.html\\\" class=\\\"nav-btn is-active-btn go-home\\\">\\r\\n                HOME\\r\\n              </a>\\r\\n            </li>\\r\\n            <li class=\\\"nav-item\\\">\\r\\n              <button type=\\\"button\\\" id=\\\"library-btn\\\" class=\\\"nav-btn go-lab\\\">MY LIBRARY</button>\\r\\n\\r\\n            </li>\\r\\n          </ul>\\r\\n        </nav>\\r\\n      </div>\\r\\n    </div>\\r\\n  </header>\\r\\n\\r\\n  <div class=\\\"movie_card container content\\\">\\r\\n    <button type=\\\"button\\\" class=\\\"close-button\\\">\\r\\n      <svg width=\\\"18\\\" height=\\\"18\\\" viewBox=\\\"0 0 18 18\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\r\\n        <path\\r\\n          d=\\\"M15 4.10786L13.8921 3L9.5 7.39214L5.10786 3L4 4.10786L8.39214 8.5L4 12.8921L5.10786 14L9.5 9.60786L13.8921 14L15 12.8921L10.6079 8.5L15 4.10786Z\\\">\\r\\n      </svg>\\r\\n    </button>\\r\\n    <div class=\\\"modal_poster\\\">\\r\\n      <a target=\\\"_blank\\\" rel=\\\"noopener noreferrer\\\" class=\\\"telega-link\\\">\\r\\n            <div class=\\\"telega-btn\\\">\\r\\n              <svg width=\\\"24\\\" height=\\\"24\\\" class=\\\"telega-svg\\\" viewbox=\\\"0 0 24 24\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\r\\n                <path\\r\\n                  d=\\\"M24 0L0 13.5L7.66994 16.3407L19.5 5.25002L10.5017 17.3896L10.509 17.3923L10.5 17.3896V24.0001L14.8013 18.982L20.2501 21.0001L24 0Z\\\" />\\r\\n              </svg>\\r\\n            </div>\\r\\n          </a>\\r\\n      <img src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"poster\") || (depth0 != null ? lookupProperty(depth0,\"poster\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"poster\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":53,\"column\":16},\"end\":{\"line\":53,\"column\":26}}}) : helper)))\n    + \"\\\" alt=\\\"\\\" class=\\\"modal__img\\\">\\r\\n    </div>\\r\\n    <div class=\\\"modal__text\\\">\\r\\n      <h1 class=\\\"modal__title\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":56,\"column\":31},\"end\":{\"line\":56,\"column\":40}}}) : helper)))\n    + \"</h1>\\r\\n      <ul class=\\\"modal__list\\\">\\r\\n        <li class=\\\"modal__item\\\">\\r\\n          <p class=\\\"modal__item_title\\\">Vote / Votes</p>\\r\\n          <span class=\\\"item__data vote_averege\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"voteAverage\") || (depth0 != null ? lookupProperty(depth0,\"voteAverage\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"voteAverage\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":60,\"column\":48},\"end\":{\"line\":60,\"column\":63}}}) : helper)))\n    + \"</span>\\r\\n          / <span class=\\\"item__data vote_count\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"voteCount\") || (depth0 != null ? lookupProperty(depth0,\"voteCount\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"voteCount\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":61,\"column\":48},\"end\":{\"line\":61,\"column\":61}}}) : helper)))\n    + \"</span>\\r\\n        </li>\\r\\n        <li class=\\\"modal__item\\\">\\r\\n          <p class=\\\"modal__item_title\\\">Popularity</p>\\r\\n          <span class=\\\"item__data popularity\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"popularity\") || (depth0 != null ? lookupProperty(depth0,\"popularity\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"popularity\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":65,\"column\":46},\"end\":{\"line\":65,\"column\":60}}}) : helper)))\n    + \"</span>\\r\\n        </li>\\r\\n        <li class=\\\"modal__item modal__item_original\\\">\\r\\n          <p class=\\\"modal__item_title original_text\\\">Original Title </p>\\r\\n\\r\\n          <span class=\\\"item__data original\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"originalTitle\") || (depth0 != null ? lookupProperty(depth0,\"originalTitle\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"originalTitle\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":70,\"column\":44},\"end\":{\"line\":70,\"column\":61}}}) : helper)))\n    + \"</span>\\r\\n        </li>\\r\\n        <li class=\\\"modal__item genres__item\\\">\\r\\n          <span class=\\\"modal__item_title\\\">Genre</span>\\r\\n          <ul class=\\\"genres_list\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"genres\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":75,\"column\":12},\"end\":{\"line\":77,\"column\":21}}})) != null ? stack1 : \"\")\n    + \"          </ul>\\r\\n        </li>\\r\\n      </ul>\\r\\n      <h2 class=\\\"about__title\\\">About</h2>\\r\\n      <p class=\\\"overview\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"overview\") || (depth0 != null ? lookupProperty(depth0,\"overview\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"overview\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":82,\"column\":26},\"end\":{\"line\":82,\"column\":38}}}) : helper)))\n    + \"</p>\\r\\n\\r\\n      <div class=\\\"button_items\\\">\\r\\n        <button class=\\\"btn btn-dark\\\" id=\\\"watched\\\">add to Watched</button>\\r\\n        <button class=\\\"btn btn-dark\\\" id=\\\"queue\\\">add to queue</button>\\r\\n        <button class=\\\"btn btn-dark\\\" id=\\\"watched-tailer\\\">WATCH TRAILER</button>\\r\\n\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n  </div>\\r\\n  <footer class=\\\"footer content\\\">\\r\\n    <div class=\\\"footer__container\\\">\\r\\n      <p class=\\\"footer__text\\\">\\r\\n        <span>\\r\\n          <svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\" id=\\\"copyright\\\">\\r\\n            <path\\r\\n              d=\\\"M13.44 14.48c0.067-0.44 0.213-0.827 0.4-1.16s0.453-0.613 0.787-0.827c0.32-0.2 0.72-0.293 1.213-0.307 0.307 0.013 0.587 0.067 0.84 0.173 0.267 0.12 0.507 0.28 0.693 0.48s0.333 0.44 0.453 0.707 0.173 0.56 0.187 0.853h2.387c-0.027-0.627-0.147-1.2-0.373-1.72s-0.533-0.973-0.933-1.347-0.88-0.667-1.44-0.88-1.173-0.307-1.853-0.307c-0.867 0-1.627 0.147-2.267 0.453s-1.173 0.707-1.6 1.227-0.747 1.12-0.947 1.813-0.32 1.413-0.32 2.187v0.36c0 0.773 0.107 1.493 0.307 2.187s0.52 1.293 0.947 1.8 0.96 0.92 1.6 1.213 1.4 0.453 2.267 0.453c0.627 0 1.213-0.107 1.76-0.307s1.027-0.48 1.44-0.84 0.747-0.773 0.987-1.253 0.387-0.987 0.4-1.533h-2.387c-0.013 0.28-0.080 0.533-0.2 0.773s-0.28 0.44-0.48 0.613-0.427 0.307-0.693 0.4c-0.253 0.093-0.52 0.12-0.8 0.133-0.48-0.013-0.88-0.107-1.187-0.307-0.333-0.213-0.6-0.493-0.787-0.827s-0.333-0.733-0.4-1.173-0.107-0.893-0.107-1.333v-0.36c0-0.467 0.040-0.907 0.107-1.347zM16 2.667c-7.36 0-13.333 5.973-13.333 13.333s5.973 13.333 13.333 13.333 13.333-5.973 13.333-13.333-5.973-13.333-13.333-13.333zM16 26.667c-5.88 0-10.667-4.787-10.667-10.667s4.787-10.667 10.667-10.667 10.667 4.787 10.667 10.667-4.787 10.667-10.667 10.667z\\\">\\r\\n            </path>\\r\\n          </svg>\\r\\n\\r\\n          &nbsp;2020 | All Rights Reserved |\\r\\n        </span>\\r\\n        <span>\\r\\n          Developed with&nbsp;\\r\\n          <svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" id=\\\"vector\\\"\\r\\n            viewBox=\\\"0 0 34 32\\\" fill=\\\"#ff6b08\\\" style=\\\"fill: #ff6b08)\\\">\\r\\n            <path\\r\\n              d=\\\"M17.231 31.705l-2.412-2.412c-8.96-7.926-14.818-13.268-14.818-19.815 0-5.342 4.135-9.477 9.477-9.477 2.929 0 5.858 1.378 7.754 3.618 1.895-2.24 4.825-3.618 7.754-3.618 5.342 0 9.477 4.135 9.477 9.477 0 6.548-5.858 11.889-14.818 19.815l-2.412 2.412z\\\">\\r\\n            </path>\\r\\n          </svg>\\r\\n          &nbsp;by&nbsp;\\r\\n          <a class=\\\"footer__link\\\" href=\\\"https://goit.ua/\\\" target=\\\"_blank\\\">GoIT Students</a>\\r\\n          \\r\\n        </span>\\r\\n\\r\\n      </p>\\r\\n    </div>\\r\\n  </footer>\\r\\n</div>\";\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"header-bottom-library\\\">\\r\\n  <button class=\\\"btn watched\\\">Watched</button>\\r\\n  <button class=\\\"btn queue\\\">queue</button>\\r\\n</div>\";\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\\r\\n<li class=\\\"movie-list-item\\\">\\r\\n\\r\\n  <a href=\\\"#\\\" class=\\\"movie__link\\\">\\r\\n\\r\\n    <img src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"poster\") || (depth0 != null ? lookupProperty(depth0,\"poster\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"poster\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":14},\"end\":{\"line\":7,\"column\":24}}}) : helper)))\n    + \"\\\" class=\\\"movie__image\\\">\\r\\n\\r\\n    <div class=\\\"data\\\" data-title=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":34},\"end\":{\"line\":9,\"column\":43}}}) : helper)))\n    + \"\\\" data-voteAverage=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"voteAverage\") || (depth0 != null ? lookupProperty(depth0,\"voteAverage\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"voteAverage\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":63},\"end\":{\"line\":9,\"column\":78}}}) : helper)))\n    + \"\\\" data-voteCount=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"voteCount\") || (depth0 != null ? lookupProperty(depth0,\"voteCount\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"voteCount\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":96},\"end\":{\"line\":9,\"column\":109}}}) : helper)))\n    + \"\\\"\\r\\n      data-overview=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"overview\") || (depth0 != null ? lookupProperty(depth0,\"overview\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"overview\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":21},\"end\":{\"line\":10,\"column\":33}}}) : helper)))\n    + \"\\\" data-popularity=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"popularity\") || (depth0 != null ? lookupProperty(depth0,\"popularity\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"popularity\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":52},\"end\":{\"line\":10,\"column\":66}}}) : helper)))\n    + \"\\\" data-originalTitle=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"originalTitle\") || (depth0 != null ? lookupProperty(depth0,\"originalTitle\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"originalTitle\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":88},\"end\":{\"line\":10,\"column\":105}}}) : helper)))\n    + \"\\\"\\r\\n      data-genres=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"dataGenres\") || (depth0 != null ? lookupProperty(depth0,\"dataGenres\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"dataGenres\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":19},\"end\":{\"line\":11,\"column\":33}}}) : helper)))\n    + \"\\\" data-poster=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"poster\") || (depth0 != null ? lookupProperty(depth0,\"poster\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"poster\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":48},\"end\":{\"line\":11,\"column\":58}}}) : helper)))\n    + \"\\\">\\r\\n      <button hidden type=\\\"button\\\" class=\\\"btn delete\\\"><svg class=\\\"remove-svg\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"\\r\\n          width=\\\"12\\\" height=\\\"16\\\" viewBox=\\\"0 0 12 16\\\">\\r\\n          <path fill-rule=\\\"evenodd\\\"\\r\\n            d=\\\"M11 2H9c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1H2c-.55 0-1 .45-1 1v1c0 .55.45 1 1 1v9c0 .55.45 1 1 1h7c.55 0 1-.45 1-1V5c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zm-1 12H3V5h1v8h1V5h1v8h1V5h1v8h1V5h1v9zm1-10H2V3h9v1z\\\" />\\r\\n        </svg></button>\\r\\n    </div>\\r\\n    <h2 class=\\\"movie-description dark\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":18,\"column\":39},\"end\":{\"line\":18,\"column\":48}}}) : helper)))\n    + \"</h2>\\r\\n\\r\\n\\r\\n\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"genres\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":27,\"column\":4},\"end\":{\"line\":29,\"column\":13}}})) != null ? stack1 : \"\")\n    + \"    <p class=\\\"movie-description light year\\\"> | \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"releaseDate\") || (depth0 != null ? lookupProperty(depth0,\"releaseDate\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"releaseDate\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":30,\"column\":47},\"end\":{\"line\":30,\"column\":62}}}) : helper)))\n    + \"</p>\\r\\n    <p class=\\\"movie-description vote_averege\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"voteAverage\") || (depth0 != null ? lookupProperty(depth0,\"voteAverage\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"voteAverage\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":31,\"column\":46},\"end\":{\"line\":31,\"column\":61}}}) : helper)))\n    + \"</p>\\r\\n\\r\\n  </a>\\r\\n</li>\\r\\n\\r\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    return \"    <p class=\\\"movie-description light\\\">\"\n    + container.escapeExpression(container.lambda(depth0, depth0))\n    + \"</p>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":36,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"  <!--Футер-->\\r\\n  <footer class=\\\"footer\\\">\\r\\n    <div class=\\\"footer__container\\\">\\r\\n      <p class=\\\"footer__text\\\">\\r\\n        <span>\\r\\n                  <svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\" id=\\\"copyright\\\">\\r\\n          <path\\r\\n            d=\\\"M13.44 14.48c0.067-0.44 0.213-0.827 0.4-1.16s0.453-0.613 0.787-0.827c0.32-0.2 0.72-0.293 1.213-0.307 0.307 0.013 0.587 0.067 0.84 0.173 0.267 0.12 0.507 0.28 0.693 0.48s0.333 0.44 0.453 0.707 0.173 0.56 0.187 0.853h2.387c-0.027-0.627-0.147-1.2-0.373-1.72s-0.533-0.973-0.933-1.347-0.88-0.667-1.44-0.88-1.173-0.307-1.853-0.307c-0.867 0-1.627 0.147-2.267 0.453s-1.173 0.707-1.6 1.227-0.747 1.12-0.947 1.813-0.32 1.413-0.32 2.187v0.36c0 0.773 0.107 1.493 0.307 2.187s0.52 1.293 0.947 1.8 0.96 0.92 1.6 1.213 1.4 0.453 2.267 0.453c0.627 0 1.213-0.107 1.76-0.307s1.027-0.48 1.44-0.84 0.747-0.773 0.987-1.253 0.387-0.987 0.4-1.533h-2.387c-0.013 0.28-0.080 0.533-0.2 0.773s-0.28 0.44-0.48 0.613-0.427 0.307-0.693 0.4c-0.253 0.093-0.52 0.12-0.8 0.133-0.48-0.013-0.88-0.107-1.187-0.307-0.333-0.213-0.6-0.493-0.787-0.827s-0.333-0.733-0.4-1.173-0.107-0.893-0.107-1.333v-0.36c0-0.467 0.040-0.907 0.107-1.347zM16 2.667c-7.36 0-13.333 5.973-13.333 13.333s5.973 13.333 13.333 13.333 13.333-5.973 13.333-13.333-5.973-13.333-13.333-13.333zM16 26.667c-5.88 0-10.667-4.787-10.667-10.667s4.787-10.667 10.667-10.667 10.667 4.787 10.667 10.667-4.787 10.667-10.667 10.667z\\\"></path>\\r\\n        </svg>\\r\\n\\r\\n        &nbsp;2020 | All Rights Reserved |\\r\\n        </span>\\r\\n        <span>\\r\\nDeveloped with&nbsp;\\r\\n        <svg  xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" id=\\\"vector\\\" viewBox=\\\"0 0 34 32\\\" fill=\\\"#ff6b08\\\" style=\\\"fill: #ff6b08)\\\">\\r\\n          <path d=\\\"M17.231 31.705l-2.412-2.412c-8.96-7.926-14.818-13.268-14.818-19.815 0-5.342 4.135-9.477 9.477-9.477 2.929 0 5.858 1.378 7.754 3.618 1.895-2.24 4.825-3.618 7.754-3.618 5.342 0 9.477 4.135 9.477 9.477 0 6.548-5.858 11.889-14.818 19.815l-2.412 2.412z\\\"></path>\\r\\n        </svg>\\r\\n             &nbsp;by&nbsp;\\r\\n          <a\\r\\n            class=\\\"footer__link\\\"\\r\\n            href=\\\"https://goit.ua/\\\"\\r\\n            target=\\\"_blank\\\"\\r\\n            >GoIT Students</a\\r\\n          >\\r\\n    </span>\\r\\n\\r\\n      </p>\\r\\n    </div>\\r\\n  </footer>\\r\\n\\r\\n\";\n},\"useData\":true});"],"sourceRoot":""}